### 
如果发现当前appcache存在的话，就直接跳过中间的程序，去执行processing

### DNS
DNS，域名系统，用于将域名转换成IP

一级域名：baidu.com
二级域名：www.baidu.com
三级域名：xxx.www.baidu.com

域名服务器- 用来域名和ip转换

域名解析

1. 客户端发送域名给运营商解析服务器
2. 运营商首先要查缓存，如果有直接返回
3. 如果没有则需要根服务器（16台，在美国），掌握了根服务器，就掌握了很多东西
4. 根服务器只会返回比如`com`这样后缀的内容，然后告诉你去某某某服务器查询一级域名。然后返回到营运商这里，然后去访问这个服务器（Tld Server）（com有com的tld服务器的，cn有cn的tld的服务器）。然后会返回一个一级域名（baidu.com）.然后只能去name server找
5. name server 就会返回详细的域名/ip对照表，域名和ip的信息表。
6. 实际上就是运营尚服务器在疯狂工作，。

在阿里云服务器上设置域名，其实是在name server上设置域名，然后需要在全球的name server服务器进行同步，阿里云厉害就在阿里云可以在10分钟可以将全球的服务器进行同步完成。

根服务器只解析后缀，tld服务器解析一级域名，name server 解析的2，3，4，5，6...级服务器。

阿里云不仅仅是name server 其实是一整套。


----
记录类型

SOA 起始授权记录  一个区域解析哭有且只有一个SOA记录，而且放在第一条

A(主机记录)（只能解析ipv4） 用于

CNAME 别名记录    比如你申请了一个域名，你发现有几个域名跟自己的域名很像，怕被别人注册，就直接全部申请了，当你的一个域名指向了一个地方，这是时候其他的为了方便也同时指向这个地方

NS记录  保存下一级的域名信息。（意味着可以架设自己的域名服务器）

MX记录    用于接受电子邮件的服务器地址


IPV6  与A记录对应 将特定的主机号映射到一个主机ipv6地址


三次握手和四次挥手

数据在发送的时候，每经历一层就要加一个头

应用层  AH
表示层  PH
会话层  SH
传输层  TH
网络层  NH
数据链路层 DT

到了物理层就不加了。

反之数据接手的时候，就要去掉
头有什么用呢：？？？



tcp 协议模型详解

应用层              文件传输，电子邮件，文件服务，虚拟终端       TFTP,HTTP,SNMP,FTP,SMTP,DNS,TELNET

表示层              数据格式化，代码转换，数据加密             没有协议

会话层            解除或建立与别的接点的联系                    没有协议

传输 层              提供端对端的接口                 tcp ,udp

网络层              为数据包选择路由           ip ,icmp ,rip   ospf ,bgp,igmp

数据链路层         传输有地址的帧以及错误检测     SLIP  CSLIP   PPP ARP   RARP   MTU

物理层 





### tcp头详解


source port  和  destination port  容纳的最大的空间2^16-1

一般是将包拆成一块一块进行传输，虽然传输的时候比较麻烦，但是可靠性更高

丢包可以提醒客户端重发

Sequence Number  顺序号

Acknowledgment Number  应答号

offset 偏移量


三次握手 四次挥手

保证连接的可靠性。


udp

只负责发，不保证能不能收到，也不能保证能不能回应


三次握手详情


谁发起谁是客户端，服务器从来不主动发起

1. 发起一个SYN seq=x 进行编号，顺序号x
2. 由于tcp是双向链接  所以服务器也要向客户端发送一个SYN seq =y;同时发送一个应答号ACK = x+1;   顺序号y,客户端和服务端的顺序号，算法不一样，两者分开维护 ，同时服务器要向客户端发送一个应答号ACK=x+1;标志当前应答的是哪一个客户端。
3. 客户端收到了服务器返回的响应的链接请求`ACK=x+1`和链接请求`SYN=y`。然后还要向发送一个响应的链接请求`ACK=y+1`。


四次挥手

1. 客户端发送一个关闭链接 `FIN seq=x+2` 和`ACK=y+1`
2. 服务端收到这两个包的时候，会连发两个包`ACK x+2`  和 `FIN seq=y+1`这两个包不能合并成一个，必须分开2个发送：服务器收到客户端的请求，就发送一个接受到了客户段的关闭请求的包`ACK=x+2` 告诉客户端，我接受了你的关闭请求，你可以不用继续发了。然后服务器开始处理结尾的处理，清理掉垃圾，然后向客户端发送一个结束的请求`FIN seq=y+1`
3. 客户端接受到了`FIN sqe=y+1`关闭请求，然后向服务器发送一个应答号`ACK=y+2`  然后正式关闭链接。


单工双工

单工：只能单向通信

双工：可以互相通信。



cdn

资源分发网络，可以帮助提速


缓存
缓存会根据请求保存输出内容的副本，例如：html页面，图片，文件，当下一个请求来到的时候：如果是相同的url，缓存直接使用副本响应访问请求，而不是向源服务器再次发送请求
有点
减少响应延迟
减少网络带宽


强制缓存：不管你的资源，服务器要不要求要不要缓存下来都要缓存

对比缓存：通过比较来判断是不是要不要使用缓存

Etag 

